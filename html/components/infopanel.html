<script>
console.log('DEBUG: InfoPanel rendering started');
console.log('DEBUG: parent_names:', {{ parent_names | json_encode() | safe }});
console.log('DEBUG: agent_items:', {{ agent_items | json_encode() | safe }});
console.log('DEBUG: agent_items length:', {{ agent_items | length }});
</script>

<div class="row">
    <div class="col">
        <br>
    </div>
</div>
<div class="row border border-primary rounded">
    <div class="col">
        <p>Item: {{ parent_names | join(sep=' / ') }}</p>
        <script>console.log('DEBUG: Rendered parent_names as:', '{{ parent_names | join(sep=' / ') }}');</script>
    </div>
    {% for i in agent_items %}
    <div class="col">
        <script>console.log('DEBUG: Processing agent_item:', {{ i | json_encode() | safe }});</script>
        <p>{{ i.agent.name }}</p>
        {% if i.sync_status == "In Sync" %}
        <p>Status: {{ i.sync_status }}</p>
        {% else %}
        <p style="color: red;">Status: {{ i.sync_status }}</p>
        {% endif %}
        {% if i.sync_status != "Missing" %}
        <p>Size: {{ (i.item.size_kb / 1024) | round(precision=2) }} mb</p>
        {% endif %}
    </div>
    {% endfor %}
    {% if agent_items | length == 0 %}
    <script>console.log('DEBUG: No agent_items found - this might be why the panel appears empty');</script>
    {% endif %}
</div>

<script>
console.log('DEBUG: InfoPanel rendering completed');
</script>
